import{i as tt,h as ge,t as Qe,j as ce,k as A,l as _,m as Oe,o as at,p as O,R as ot,q as N,s as re,v as rt,x as nt,f as ue,y as st,z as lt,A as it,B as de,C as ye,D as _e,E as oe,F as ut,G as ct,H as dt,I as fe,J as ft,K as ee,L as vt,M as mt,N as ie,O as we,P as Le,S as xe,T as bt,U as pt,V as ht,W as gt,X as yt,Y as wt,Z as xt,$ as _t,a as G,g as J,d as m,b as j,w as H,a0 as Tt,a1 as Ct,a2 as z,Q as Ie,e as Be,a3 as te,a4 as ae}from"./index-50a4d5a2.js";import{Q as qt}from"./QResizeObserver-79e5c501.js";import{r as kt}from"./rtl-36dd996b.js";import{g as Me,s as Ve}from"./touch-5ff41afe.js";import{c as Pt}from"./selection-c1f5aa1f.js";import{a as $e}from"./axios-02e8c5cb.js";import{u as St,s as De}from"./userAuthStore-7c7be9b7.js";import{v as Nt,c as At}from"./validationHelper-953dc1de.js";import{u as Rt}from"./use-quasar-a2ac154a.js";let Lt=0;const It=["click","keydown"],Bt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Lt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Mt(e,r,b,v){const o=tt(Qe,ge);if(o===ge)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ge;const{proxy:t}=ce(),i=A(null),h=A(null),P=A(null),$=_(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),x=_(()=>o.currentModel.value===e.name),I=_(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(x.value===!0?" q-tab--active"+(o.tabProps.value.activeClass?" "+o.tabProps.value.activeClass:"")+(o.tabProps.value.activeColor?` text-${o.tabProps.value.activeColor}`:"")+(o.tabProps.value.activeBgColor?` bg-${o.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&o.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||o.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(v!==void 0?v.linkClass.value:"")),s=_(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(o.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),f=_(()=>e.disable===!0||o.hasFocus.value===!0||x.value===!1&&o.hasActiveTab.value===!0?-1:e.tabindex||0);function l(u,T){if(T!==!0&&i.value!==null&&i.value.focus(),e.disable===!0){v!==void 0&&v.hasRouterLink.value===!0&&re(u);return}if(v===void 0){o.updateModel({name:e.name}),b("click",u);return}if(v.hasRouterLink.value===!0){const S=(k={})=>{let y;const L=k.to===void 0||lt(k.to,e.to)===!0?o.avoidRouteWatcher=it():null;return v.navigateToRouterLink(u,{...k,returnRouterError:!0}).catch(E=>{y=E}).then(E=>{if(L===o.avoidRouteWatcher&&(o.avoidRouteWatcher=!1,y===void 0&&(E===void 0||E.message!==void 0&&E.message.startsWith("Avoided redundant navigation")===!0)&&o.updateModel({name:e.name})),k.returnRouterError===!0)return y!==void 0?Promise.reject(y):E})};b("click",u,S),u.defaultPrevented!==!0&&S();return}b("click",u)}function R(u){rt(u,[13,32])?l(u,!0):nt(u)!==!0&&u.keyCode>=35&&u.keyCode<=40&&u.altKey!==!0&&u.metaKey!==!0&&o.onKbdNavigate(u.keyCode,t.$el)===!0&&re(u),b("keydown",u)}function M(){const u=o.tabProps.value.narrowIndicator,T=[],S=N("div",{ref:P,class:["q-tab__indicator",o.tabProps.value.indicatorClass]});e.icon!==void 0&&T.push(N(ue,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&T.push(N("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&T.push(e.alertIcon!==void 0?N(ue,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):N("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),u===!0&&T.push(S);const k=[N("div",{class:"q-focus-helper",tabindex:-1,ref:i}),N("div",{class:s.value},st(r.default,T))];return u===!1&&k.push(S),k}const D={name:_(()=>e.name),rootRef:h,tabIndicatorRef:P,routeData:v};Oe(()=>{o.unregisterTab(D)}),at(()=>{o.registerTab(D)});function U(u,T){const S={ref:h,class:I.value,tabindex:f.value,role:"tab","aria-selected":x.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:l,onKeydown:R,...T};return O(N(u,S,M()),[[ot,$.value]])}return{renderTab:U,$tabs:o}}const Ee=de({name:"QTab",props:Bt,emits:It,setup(e,{slots:r,emit:b}){const{renderTab:v}=Mt(e,r,b);return()=>v("div")}});function Vt(e,r,b){const v=b===!0?["left","right"]:["top","bottom"];return`absolute-${r===!0?v[0]:v[1]}${e?` text-${e}`:""}`}const $t=["left","center","right","justify"],Dt=de({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>$t.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:r,emit:b}){const{proxy:v}=ce(),{$q:o}=v,{registerTick:t}=ye(),{registerTick:i}=ye(),{registerTick:h}=ye(),{registerTimeout:P,removeTimeout:$}=_e(),{registerTimeout:x,removeTimeout:I}=_e(),s=A(null),f=A(null),l=A(e.modelValue),R=A(!1),M=A(!0),D=A(!1),U=A(!1),u=[],T=A(0),S=A(!1);let k=null,y=null,L;const E=_(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Vt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ne=_(()=>{const a=T.value,n=l.value;for(let d=0;d<a;d++)if(u[d].name.value===n)return!0;return!1}),ve=_(()=>`q-tabs__content--align-${R.value===!0?"left":U.value===!0?"justify":e.align}`),me=_(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),be=_(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ve.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),c=_(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),w=_(()=>e.vertical!==!0&&o.lang.rtl===!0),V=_(()=>kt===!1&&w.value===!0);oe(w,Y),oe(()=>e.modelValue,a=>{F({name:a,setCurrent:!0,skipEmit:!0})}),oe(()=>e.outsideArrows,se);function F({name:a,setCurrent:n,skipEmit:d}){l.value!==a&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&b("update:modelValue",a),(n===!0||e["onUpdate:modelValue"]===void 0)&&(Fe(l.value,a),l.value=a))}function se(){t(()=>{Te({width:s.value.offsetWidth,height:s.value.offsetHeight})})}function Te(a){if(c.value===void 0||f.value===null)return;const n=a[c.value.container],d=Math.min(f.value[c.value.scroll],Array.prototype.reduce.call(f.value.children,(q,g)=>q+(g[c.value.content]||0),0)),C=n>0&&d>n;R.value=C,C===!0&&i(Y),U.value=n<parseInt(e.breakpoint,10)}function Fe(a,n){const d=a!=null&&a!==""?u.find(q=>q.name.value===a):null,C=n!=null&&n!==""?u.find(q=>q.name.value===n):null;if(le===!0)le=!1;else if(d&&C){const q=d.tabIndicatorRef.value,g=C.tabIndicatorRef.value;k!==null&&(clearTimeout(k),k=null),q.style.transition="none",q.style.transform="none",g.style.transition="none",g.style.transform="none";const p=q.getBoundingClientRect(),B=g.getBoundingClientRect();g.style.transform=e.vertical===!0?`translate3d(0,${p.top-B.top}px,0) scale3d(1,${B.height?p.height/B.height:1},1)`:`translate3d(${p.left-B.left}px,0,0) scale3d(${B.width?p.width/B.width:1},1,1)`,h(()=>{k=setTimeout(()=>{k=null,g.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",g.style.transform="none"},70)})}C&&R.value===!0&&X(C.rootRef.value)}function X(a){const{left:n,width:d,top:C,height:q}=f.value.getBoundingClientRect(),g=a.getBoundingClientRect();let p=e.vertical===!0?g.top-C:g.left-n;if(p<0){f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(p),Y();return}p+=e.vertical===!0?g.height-q:g.width-d,p>0&&(f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(p),Y())}function Y(){const a=f.value;if(a===null)return;const n=a.getBoundingClientRect(),d=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);w.value===!0?(M.value=Math.ceil(d+n.width)<a.scrollWidth-1,D.value=d>0):(M.value=d>0,D.value=e.vertical===!0?Math.ceil(d+n.height)<a.scrollHeight:Math.ceil(d+n.width)<a.scrollWidth)}function Ce(a){y!==null&&clearInterval(y),y=setInterval(()=>{ze(a)===!0&&W()},5)}function qe(){Ce(V.value===!0?Number.MAX_SAFE_INTEGER:0)}function ke(){Ce(V.value===!0?0:Number.MAX_SAFE_INTEGER)}function W(){y!==null&&(clearInterval(y),y=null)}function We(a,n){const d=Array.prototype.filter.call(f.value.children,B=>B===n||B.matches&&B.matches(".q-tab.q-focusable")===!0),C=d.length;if(C===0)return;if(a===36)return X(d[0]),d[0].focus(),!0;if(a===35)return X(d[C-1]),d[C-1].focus(),!0;const q=a===(e.vertical===!0?38:37),g=a===(e.vertical===!0?40:39),p=q===!0?-1:g===!0?1:void 0;if(p!==void 0){const B=w.value===!0?-1:1,Q=d.indexOf(n)+p*B;return Q>=0&&Q<C&&(X(d[Q]),d[Q].focus({preventScroll:!0})),!0}}const Ke=_(()=>V.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,n)=>{a.scrollLeft=-n}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,n)=>{a.scrollTop=n}}:{get:a=>a.scrollLeft,set:(a,n)=>{a.scrollLeft=n}});function ze(a){const n=f.value,{get:d,set:C}=Ke.value;let q=!1,g=d(n);const p=a<g?-1:1;return g+=p*5,g<0?(q=!0,g=0):(p===-1&&g<=a||p===1&&g>=a)&&(q=!0,g=a),C(n,g),Y(),q}function Pe(a,n){for(const d in a)if(a[d]!==n[d])return!1;return!0}function He(){let a=null,n={matchedLen:0,queryDiff:9999,hrefLen:0};const d=u.filter(p=>p.routeData!==void 0&&p.routeData.hasRouterLink.value===!0),{hash:C,query:q}=v.$route,g=Object.keys(q).length;for(const p of d){const B=p.routeData.exact.value===!0;if(p.routeData[B===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Q,query:pe,matched:Ze,href:et}=p.routeData.resolvedLink.value,he=Object.keys(pe).length;if(B===!0){if(Q!==C||he!==g||Pe(q,pe)===!1)continue;a=p.name.value;break}if(Q!==""&&Q!==C||he!==0&&Pe(pe,q)===!1)continue;const K={matchedLen:Ze.length,queryDiff:g-he,hrefLen:et.length-Q.length};if(K.matchedLen>n.matchedLen){a=p.name.value,n=K;continue}else if(K.matchedLen!==n.matchedLen)continue;if(K.queryDiff<n.queryDiff)a=p.name.value,n=K;else if(K.queryDiff!==n.queryDiff)continue;K.hrefLen>n.hrefLen&&(a=p.name.value,n=K)}if(a===null&&u.some(p=>p.routeData===void 0&&p.name.value===l.value)===!0){le=!1;return}F({name:a,setCurrent:!0})}function Xe(a){if($(),S.value!==!0&&s.value!==null&&a.target&&typeof a.target.closest=="function"){const n=a.target.closest(".q-tab");n&&s.value.contains(n)===!0&&(S.value=!0,R.value===!0&&X(n))}}function Ye(){P(()=>{S.value=!1},30)}function Z(){Ne.avoidRouteWatcher===!1?x(He):I()}function Se(){if(L===void 0){const a=oe(()=>v.$route.fullPath,Z);L=()=>{a(),L=void 0}}}function Ge(a){u.push(a),T.value++,se(),a.routeData===void 0||v.$route===void 0?x(()=>{if(R.value===!0){const n=l.value,d=n!=null&&n!==""?u.find(C=>C.name.value===n):null;d&&X(d.rootRef.value)}}):(Se(),a.routeData.hasRouterLink.value===!0&&Z())}function Je(a){u.splice(u.indexOf(a),1),T.value--,se(),L!==void 0&&a.routeData!==void 0&&(u.every(n=>n.routeData===void 0)===!0&&L(),Z())}const Ne={currentModel:l,tabProps:E,hasFocus:S,hasActiveTab:ne,registerTab:Ge,unregisterTab:Je,verifyRouteModel:Z,updateModel:F,onKbdNavigate:We,avoidRouteWatcher:!1};ut(Qe,Ne);function Ae(){k!==null&&clearTimeout(k),W(),L!==void 0&&L()}let Re,le;return Oe(Ae),ct(()=>{Re=L!==void 0,Ae()}),dt(()=>{Re===!0&&(Se(),le=!0,Z()),se()}),()=>N("div",{ref:s,class:me.value,role:"tablist",onFocusin:Xe,onFocusout:Ye},[N(qt,{onResize:Te}),N("div",{ref:f,class:be.value,onScroll:Y},fe(r.default)),N(ue,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||o.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W}),N(ue,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||o.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ke,onTouchstartPassive:ke,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W})])}});function Et(e){const r=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((b,v)=>{const o=parseFloat(b);o&&(r[v]=o)}),r}const Ut=ft({name:"touch-swipe",beforeMount(e,{value:r,arg:b,modifiers:v}){if(v.mouse!==!0&&ee.has.touch!==!0)return;const o=v.mouseCapture===!0?"Capture":"",t={handler:r,sensitivity:Et(b),direction:Me(v),noop:vt,mouseStart(i){Ve(i,t)&&mt(i)&&(ie(t,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(i,!0))},touchStart(i){if(Ve(i,t)){const h=i.target;ie(t,"temp",[[h,"touchmove","move","notPassiveCapture"],[h,"touchcancel","end","notPassiveCapture"],[h,"touchend","end","notPassiveCapture"]]),t.start(i)}},start(i,h){ee.is.firefox===!0&&we(e,!0);const P=Le(i);t.event={x:P.left,y:P.top,time:Date.now(),mouse:h===!0,dir:!1}},move(i){if(t.event===void 0)return;if(t.event.dir!==!1){re(i);return}const h=Date.now()-t.event.time;if(h===0)return;const P=Le(i),$=P.left-t.event.x,x=Math.abs($),I=P.top-t.event.y,s=Math.abs(I);if(t.event.mouse!==!0){if(x<t.sensitivity[1]&&s<t.sensitivity[1]){t.end(i);return}}else if(window.getSelection().toString()!==""){t.end(i);return}else if(x<t.sensitivity[2]&&s<t.sensitivity[2])return;const f=x/h,l=s/h;t.direction.vertical===!0&&x<s&&x<100&&l>t.sensitivity[0]&&(t.event.dir=I<0?"up":"down"),t.direction.horizontal===!0&&x>s&&s<100&&f>t.sensitivity[0]&&(t.event.dir=$<0?"left":"right"),t.direction.up===!0&&x<s&&I<0&&x<100&&l>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&x<s&&I>0&&x<100&&l>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&x>s&&$<0&&s<100&&f>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&x>s&&$>0&&s<100&&f>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(re(i),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Pt(),t.styleCleanup=R=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const M=()=>{document.body.classList.remove("no-pointer-events--children")};R===!0?setTimeout(M,50):M()}),t.handler({evt:i,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:h,distance:{x,y:s}})):t.end(i)},end(i){t.event!==void 0&&(xe(t,"temp"),ee.is.firefox===!0&&we(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),i!==void 0&&t.event.dir!==!1&&re(i),t.event=void 0)}};if(e.__qtouchswipe=t,v.mouse===!0){const i=v.mouseCapture===!0||v.mousecapture===!0?"Capture":"";ie(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}ee.has.touch===!0&&ie(t,"main",[[e,"touchstart","touchStart",`passive${v.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,r){const b=e.__qtouchswipe;b!==void 0&&(r.oldValue!==r.value&&(typeof r.value!="function"&&b.end(),b.handler=r.value),b.direction=Me(r.modifiers))},beforeUnmount(e){const r=e.__qtouchswipe;r!==void 0&&(xe(r,"main"),xe(r,"temp"),ee.is.firefox===!0&&we(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete e.__qtouchswipe)}});function jt(){let e=Object.create(null);return{getCache:(r,b)=>e[r]===void 0?e[r]=typeof b=="function"?b():b:e[r],setCache(r,b){e[r]=b},hasCache(r){return Object.hasOwnProperty.call(e,r)},clearCache(r){r!==void 0?delete e[r]:e=Object.create(null)}}}const Qt={name:{required:!0},disable:Boolean},Ue={setup(e,{slots:r}){return()=>N("div",{class:"q-panel scroll",role:"tabpanel"},fe(r.default))}},Ot={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ft=["update:modelValue","beforeTransition","transition"];function Wt(){const{props:e,emit:r,proxy:b}=ce(),{getCache:v}=jt(),{registerTimeout:o}=_e();let t,i;const h=A(null),P=A(null);function $(c){const w=e.vertical===!0?"up":"left";L((b.$q.lang.rtl===!0?-1:1)*(c.direction===w?1:-1))}const x=_(()=>[[Ut,$,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),I=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),s=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),f=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),l=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),R=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),M=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(c,w)=>{const V=T(c)===!0?S(c):-1;i!==!0&&y(V===-1?0:V<S(w)?-1:1),h.value!==V&&(h.value=V,r("beforeTransition",c,w),o(()=>{r("transition",c,w)},e.transitionDuration))});function D(){L(1)}function U(){L(-1)}function u(c){r("update:modelValue",c)}function T(c){return c!=null&&c!==""}function S(c){return t.findIndex(w=>w.props.name===c&&w.props.disable!==""&&w.props.disable!==!0)}function k(){return t.filter(c=>c.props.disable!==""&&c.props.disable!==!0)}function y(c){const w=c!==0&&e.animated===!0&&h.value!==-1?"q-transition--"+(c===-1?I.value:s.value):null;P.value!==w&&(P.value=w)}function L(c,w=h.value){let V=w+c;for(;V!==-1&&V<t.length;){const F=t[V];if(F!==void 0&&F.props.disable!==""&&F.props.disable!==!0){y(c),i=!0,r("update:modelValue",F.props.name),setTimeout(()=>{i=!1});return}V+=c}e.infinite===!0&&t.length!==0&&w!==-1&&w!==t.length&&L(c,c===-1?t.length:-1)}function E(){const c=S(e.modelValue);return h.value!==c&&(h.value=c),!0}function ne(){const c=T(e.modelValue)===!0&&E()&&t[h.value];return e.keepAlive===!0?[N(ht,R.value,[N(M.value===!0?v(l.value,()=>({...Ue,name:l.value})):Ue,{key:l.value,style:f.value},()=>c)])]:[N("div",{class:"q-panel scroll",style:f.value,key:l.value,role:"tabpanel"},[c])]}function ve(){if(t.length!==0)return e.animated===!0?[N(bt,{name:P.value},ne)]:ne()}function me(c){return t=pt(fe(c.default,[])).filter(w=>w.props!==null&&w.props.slot===void 0&&T(w.props.name)===!0),t.length}function be(){return t}return Object.assign(b,{next:D,previous:U,goTo:u}),{panelIndex:h,panelDirectives:x,updatePanelsList:me,updatePanelIndex:E,getPanelContent:ve,getEnabledPanels:k,getPanels:be,isValidPanelName:T,keepAliveProps:R,needsUniqueKeepAliveWrapper:M,goToPanelByOffset:L,goToPanel:u,nextPanel:D,previousPanel:U}}const je=de({name:"QTabPanel",props:Qt,setup(e,{slots:r}){return()=>N("div",{class:"q-tab-panel",role:"tabpanel"},fe(r.default))}}),Kt=de({name:"QTabPanels",props:{...Ot,...gt},emits:Ft,setup(e,{slots:r}){const b=ce(),v=yt(e,b.proxy.$q),{updatePanelsList:o,getPanelContent:t,panelDirectives:i}=Wt(),h=_(()=>"q-tab-panels q-panel-parent"+(v.value===!0?" q-tab-panels--dark q-dark":""));return()=>(o(r),wt("div",{class:h.value},t(),"pan",e.swipeable,()=>i.value))}}),zt={class:"flex justify-center items-center h-screen w-screen"},Ht={class:"q-gutter-y-md",style:{"max-width":"600px"}},Xt={class:"mb-6"},Yt=m("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900"},"Email address",-1),Gt={class:"mb-6"},Jt=m("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900"},"Password",-1),Zt={className:"w-full flex justify-center"},ea={key:0,class:"text-red-8 text-md font-bold"},ta={class:"mb-1"},aa=m("label",{for:"firstName",class:"block mb-2 text-sm font-medium text-gray-900"},"First Name",-1),oa={class:"mb-1"},ra=m("label",{for:"lastName",class:"block mb-2 text-sm font-medium text-gray-900"},"Last Name",-1),na={class:"mb-1"},sa=m("label",{for:"username2",class:"block mb-2 text-sm font-medium text-gray-900"},"User Name",-1),la={key:0,class:"text-red-8 text-xs q-pl-sm"},ia={class:"mb-1"},ua=m("label",{for:"email2",class:"block mb-2 text-sm font-medium text-gray-900"},"Email address",-1),ca={key:0,class:"text-red-8 text-xs q-pl-sm"},da={class:"mb-1"},fa=m("label",{for:"password2",class:"block mb-2 text-sm font-medium text-gray-900"},"Password",-1),va={key:0,class:"text-red-8 text-xs q-pl-sm"},ma={class:"mb-1"},ba=m("label",{for:"passwordConfirm",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Confirm Password",-1),pa={key:0,class:"text-red-8 text-xs q-pl-sm"},ha={className:"w-full flex justify-center"},Pa={__name:"AuthView",setup(e){const r=Rt(),b=St(),v=xt(),o=A({}),t=_t({email:"",password:"",confirmpassword:""}),i=A(!1),h=A(!0),P=A("signin"),$=async I=>{var f;I.preventDefault();const s={method:"POST",url:"api/user/auth",headers:{"Content-Type":"application/json"},data:{email:t.email,password:t.password}};i.value=!0;try{const l=await $e.request(s);i.value=!1,De("token",l.data.token),sessionStorage.setItem("auth-user",JSON.stringify(l.data)),b.userData=l.data,v.push("/myprofile/"+l.data.userName),r.notify({message:"welcome back",color:"primary",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),t.email="",t.password="",t.confirmpassword=""}catch(l){((f=l==null?void 0:l.response)==null?void 0:f.status)==401?r.notify({message:l.response.data.message+". Login to try again.",color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}):r.notify({message:l.message,color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),console.error(l),i.value=!1}},x=async I=>{var f;if(I.preventDefault(),o.value={},Nt(String(t.userName))||(o.value.userName="User Name should not contains any whitespace or special charecter. For example "+At(String(t.userName))),String(t.userName)||(o.value.userName="User Name required"),t.email||(o.value.email="User Email Required"),t.password||(o.value.password="User Password Required"),t.confirmpassword||(o.value.confirmpassword="User Confirm Password Required"),t.password!==t.confirmpassword&&(o.value.confirmpassword="Password and confirm password not matched."),Object.keys(o.value).length!==0)return;const s={method:"POST",url:"api/user/auth/register",headers:{"Content-Type":"application/json"},data:{userName:t.userName,firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password}};i.value=!0;try{const l=await $e.request(s);i.value=!1,h.value=!0,console.log(l.data),De("token",l.data.token),localStorage.setItem("auth-user",JSON.stringify(l.data)),b.userData=l.data,v.push("/myprofile/"+l.data.userName),r.notify({message:"Registration Successfully!",color:"primary",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),t.email="",t.password="",t.confirmpassword=""}catch(l){console.error(l),((f=l==null?void 0:l.response)==null?void 0:f.status)==403?(o.value.headerMessage="User name or email already exist. Try different username.",r.notify({message:"User Already exist with the username or email, Try different username or email",color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})):(o.value.headerMessage="Something went wrong. Try again later",r.notify({message:l.message,color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})),i.value=!1}};return(I,s)=>(G(),J("div",zt,[m("div",null,[m("div",Ht,[j(Tt,null,{default:H(()=>[j(Dt,{modelValue:P.value,"onUpdate:modelValue":s[0]||(s[0]=f=>P.value=f),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:H(()=>[j(Ee,{name:"signin",label:"Login"}),j(Ee,{name:"register",label:"Register"})]),_:1},8,["modelValue"]),j(Ct),j(Kt,{modelValue:P.value,"onUpdate:modelValue":s[9]||(s[9]=f=>P.value=f),animated:""},{default:H(()=>[j(je,{name:"signin"},{default:H(()=>[m("form",{class:"w-72",onSubmit:$},[m("div",Xt,[Yt,O(m("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=f=>t.email=f),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"user name or email",required:""},null,512),[[z,t.email]])]),m("div",Gt,[Jt,O(m("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=f=>t.password=f),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"•••••••••",required:""},null,512),[[z,t.password]])]),m("div",Zt,[j(Ie,{type:"submit",color:"green"},{default:H(()=>[Be(" Submit ")]),_:1})])],32)]),_:1}),j(je,{name:"register"},{default:H(()=>{var f,l,R,M,D,U,u,T,S,k;return[m("form",{class:"w-72",onSubmit:x},[(f=o.value)!=null&&f.headerMessage?(G(),J("div",ea,[m("span",null,te((l=o.value)==null?void 0:l.headerMessage),1)])):ae("",!0),m("div",ta,[aa,O(m("input",{type:"text",id:"firstName","onUpdate:modelValue":s[3]||(s[3]=y=>t.firstName=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"first name "},null,512),[[z,t.firstName]])]),m("div",oa,[ra,O(m("input",{type:"text",id:"lastName","onUpdate:modelValue":s[4]||(s[4]=y=>t.lastName=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"last name "},null,512),[[z,t.lastName]])]),m("div",na,[sa,O(m("input",{type:"text",id:"username2","onUpdate:modelValue":s[5]||(s[5]=y=>t.userName=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"username without white space or special charecter",required:""},null,512),[[z,t.userName]]),(R=o.value)!=null&&R.userName?(G(),J("div",la,[m("span",null,te((M=o.value)==null?void 0:M.userName),1)])):ae("",!0)]),m("div",ia,[ua,O(m("input",{type:"email",id:"email2","onUpdate:modelValue":s[6]||(s[6]=y=>t.email=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"john.doe@company.com",required:""},null,512),[[z,t.email]]),(D=o.value)!=null&&D.email?(G(),J("div",ca,[m("span",null,te((U=o.value)==null?void 0:U.email),1)])):ae("",!0)]),m("div",da,[fa,O(m("input",{type:"password",id:"password2","onUpdate:modelValue":s[7]||(s[7]=y=>t.password=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"•••••••••",required:""},null,512),[[z,t.password]]),(u=o.value)!=null&&u.password?(G(),J("div",va,[m("span",null,te((T=o.value)==null?void 0:T.password),1)])):ae("",!0)]),m("div",ma,[ba,O(m("input",{type:"password",id:"passwordConfirm","onUpdate:modelValue":s[8]||(s[8]=y=>t.confirmpassword=y),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"•••••••••",required:""},null,512),[[z,t.confirmpassword]]),(S=o.value)!=null&&S.confirmpassword?(G(),J("div",pa,[m("span",null,te((k=o.value)==null?void 0:k.confirmpassword),1)])):ae("",!0)]),m("div",ha,[j(Ie,{type:"submit",color:"green"},{default:H(()=>[Be(" Submit ")]),_:1})])],32)]}),_:1})]),_:1},8,["modelValue"])]),_:1})])])]))}};export{Pa as default};
