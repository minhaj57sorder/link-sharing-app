import{i as et,h as be,t as Qe,j as ue,k as A,l as T,m as je,o as tt,p as at,R as nt,q as N,s as ne,v as ot,x as st,f as ie,y as rt,z as lt,A as it,B as ce,C as ge,D as Te,E as ae,F as ut,G as ct,H as dt,I as de,J as vt,K as Z,L as ft,M as mt,N as le,O as ye,P as Ae,S as we,T as ht,U as pt,V as bt,W as gt,X as yt,Y as wt,Z as Tt,$ as Ct,a as Y,g as G,d as k,b as V,w as z,a0 as qt,a1 as xt,a2 as K,Q as Re,e as Le,a3 as ee,a4 as te}from"./index-885abe90.js";import{Q as Pt}from"./QResizeObserver-8da5703a.js";import{r as _t}from"./rtl-36dd996b.js";import{g as Ie,s as Be}from"./touch-5ff41afe.js";import{c as St}from"./selection-a1ce9765.js";import{a as Me}from"./axios-ac4caab3.js";import{u as kt,s as $e}from"./userAuthStore-92d431b7.js";import{v as Nt,c as Vt}from"./validationHelper-953dc1de.js";import{u as At}from"./use-quasar-c1f80122.js";let Rt=0;const Lt=["click","keydown"],It={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Rt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Bt(e,o,m,f){const n=et(Qe,be);if(n===be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),be;const{proxy:t}=ue(),i=A(null),p=A(null),_=A(null),D=T(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),w=T(()=>n.currentModel.value===e.name),I=T(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(w.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(f!==void 0?f.linkClass.value:"")),r=T(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),v=T(()=>e.disable===!0||n.hasFocus.value===!0||w.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function l(u,C){if(C!==!0&&i.value!==null&&i.value.focus(),e.disable===!0){f!==void 0&&f.hasRouterLink.value===!0&&ne(u);return}if(f===void 0){n.updateModel({name:e.name}),m("click",u);return}if(f.hasRouterLink.value===!0){const S=(P={})=>{let g;const L=P.to===void 0||lt(P.to,e.to)===!0?n.avoidRouteWatcher=it():null;return f.navigateToRouterLink(u,{...P,returnRouterError:!0}).catch(E=>{g=E}).then(E=>{if(L===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,g===void 0&&(E===void 0||E.message!==void 0&&E.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:e.name})),P.returnRouterError===!0)return g!==void 0?Promise.reject(g):E})};m("click",u,S),u.defaultPrevented!==!0&&S();return}m("click",u)}function R(u){ot(u,[13,32])?l(u,!0):st(u)!==!0&&u.keyCode>=35&&u.keyCode<=40&&u.altKey!==!0&&u.metaKey!==!0&&n.onKbdNavigate(u.keyCode,t.$el)===!0&&ne(u),m("keydown",u)}function M(){const u=n.tabProps.value.narrowIndicator,C=[],S=N("div",{ref:_,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&C.push(N(ie,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&C.push(N("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&C.push(e.alertIcon!==void 0?N(ie,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):N("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),u===!0&&C.push(S);const P=[N("div",{class:"q-focus-helper",tabindex:-1,ref:i}),N("div",{class:r.value},rt(o.default,C))];return u===!1&&P.push(S),P}const U={name:T(()=>e.name),rootRef:p,tabIndicatorRef:_,routeData:f};je(()=>{n.unregisterTab(U)}),tt(()=>{n.registerTab(U)});function Q(u,C){const S={ref:p,class:I.value,tabindex:v.value,role:"tab","aria-selected":w.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:l,onKeydown:R,...C};return at(N(u,S,M()),[[nt,D.value]])}return{renderTab:Q,$tabs:n}}const De=ce({name:"QTab",props:It,emits:Lt,setup(e,{slots:o,emit:m}){const{renderTab:f}=Bt(e,o,m);return()=>f("div")}});function Mt(e,o,m){const f=m===!0?["left","right"]:["top","bottom"];return`absolute-${o===!0?f[0]:f[1]}${e?` text-${e}`:""}`}const $t=["left","center","right","justify"],Dt=ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>$t.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:o,emit:m}){const{proxy:f}=ue(),{$q:n}=f,{registerTick:t}=ge(),{registerTick:i}=ge(),{registerTick:p}=ge(),{registerTimeout:_,removeTimeout:D}=Te(),{registerTimeout:w,removeTimeout:I}=Te(),r=A(null),v=A(null),l=A(e.modelValue),R=A(!1),M=A(!0),U=A(!1),Q=A(!1),u=[],C=A(0),S=A(!1);let P=null,g=null,L;const E=T(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Mt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),oe=T(()=>{const a=C.value,s=l.value;for(let d=0;d<a;d++)if(u[d].name.value===s)return!0;return!1}),ve=T(()=>`q-tabs__content--align-${R.value===!0?"left":Q.value===!0?"justify":e.align}`),fe=T(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),me=T(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ve.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),c=T(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),y=T(()=>e.vertical!==!0&&n.lang.rtl===!0),$=T(()=>_t===!1&&y.value===!0);ae(y,X),ae(()=>e.modelValue,a=>{O({name:a,setCurrent:!0,skipEmit:!0})}),ae(()=>e.outsideArrows,se);function O({name:a,setCurrent:s,skipEmit:d}){l.value!==a&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&m("update:modelValue",a),(s===!0||e["onUpdate:modelValue"]===void 0)&&(Oe(l.value,a),l.value=a))}function se(){t(()=>{Ce({width:r.value.offsetWidth,height:r.value.offsetHeight})})}function Ce(a){if(c.value===void 0||v.value===null)return;const s=a[c.value.container],d=Math.min(v.value[c.value.scroll],Array.prototype.reduce.call(v.value.children,(x,b)=>x+(b[c.value.content]||0),0)),q=s>0&&d>s;R.value=q,q===!0&&i(X),Q.value=s<parseInt(e.breakpoint,10)}function Oe(a,s){const d=a!=null&&a!==""?u.find(x=>x.name.value===a):null,q=s!=null&&s!==""?u.find(x=>x.name.value===s):null;if(re===!0)re=!1;else if(d&&q){const x=d.tabIndicatorRef.value,b=q.tabIndicatorRef.value;P!==null&&(clearTimeout(P),P=null),x.style.transition="none",x.style.transform="none",b.style.transition="none",b.style.transform="none";const h=x.getBoundingClientRect(),B=b.getBoundingClientRect();b.style.transform=e.vertical===!0?`translate3d(0,${h.top-B.top}px,0) scale3d(1,${B.height?h.height/B.height:1},1)`:`translate3d(${h.left-B.left}px,0,0) scale3d(${B.width?h.width/B.width:1},1,1)`,p(()=>{P=setTimeout(()=>{P=null,b.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",b.style.transform="none"},70)})}q&&R.value===!0&&H(q.rootRef.value)}function H(a){const{left:s,width:d,top:q,height:x}=v.value.getBoundingClientRect(),b=a.getBoundingClientRect();let h=e.vertical===!0?b.top-q:b.left-s;if(h<0){v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(h),X();return}h+=e.vertical===!0?b.height-x:b.width-d,h>0&&(v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(h),X())}function X(){const a=v.value;if(a===null)return;const s=a.getBoundingClientRect(),d=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);y.value===!0?(M.value=Math.ceil(d+s.width)<a.scrollWidth-1,U.value=d>0):(M.value=d>0,U.value=e.vertical===!0?Math.ceil(d+s.height)<a.scrollHeight:Math.ceil(d+s.width)<a.scrollWidth)}function qe(a){g!==null&&clearInterval(g),g=setInterval(()=>{Ke(a)===!0&&F()},5)}function xe(){qe($.value===!0?Number.MAX_SAFE_INTEGER:0)}function Pe(){qe($.value===!0?0:Number.MAX_SAFE_INTEGER)}function F(){g!==null&&(clearInterval(g),g=null)}function Fe(a,s){const d=Array.prototype.filter.call(v.value.children,B=>B===s||B.matches&&B.matches(".q-tab.q-focusable")===!0),q=d.length;if(q===0)return;if(a===36)return H(d[0]),d[0].focus(),!0;if(a===35)return H(d[q-1]),d[q-1].focus(),!0;const x=a===(e.vertical===!0?38:37),b=a===(e.vertical===!0?40:39),h=x===!0?-1:b===!0?1:void 0;if(h!==void 0){const B=y.value===!0?-1:1,j=d.indexOf(s)+h*B;return j>=0&&j<q&&(H(d[j]),d[j].focus({preventScroll:!0})),!0}}const We=T(()=>$.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,s)=>{a.scrollLeft=-s}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,s)=>{a.scrollTop=s}}:{get:a=>a.scrollLeft,set:(a,s)=>{a.scrollLeft=s}});function Ke(a){const s=v.value,{get:d,set:q}=We.value;let x=!1,b=d(s);const h=a<b?-1:1;return b+=h*5,b<0?(x=!0,b=0):(h===-1&&b<=a||h===1&&b>=a)&&(x=!0,b=a),q(s,b),X(),x}function _e(a,s){for(const d in a)if(a[d]!==s[d])return!1;return!0}function ze(){let a=null,s={matchedLen:0,queryDiff:9999,hrefLen:0};const d=u.filter(h=>h.routeData!==void 0&&h.routeData.hasRouterLink.value===!0),{hash:q,query:x}=f.$route,b=Object.keys(x).length;for(const h of d){const B=h.routeData.exact.value===!0;if(h.routeData[B===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:j,query:he,matched:Je,href:Ze}=h.routeData.resolvedLink.value,pe=Object.keys(he).length;if(B===!0){if(j!==q||pe!==b||_e(x,he)===!1)continue;a=h.name.value;break}if(j!==""&&j!==q||pe!==0&&_e(he,x)===!1)continue;const W={matchedLen:Je.length,queryDiff:b-pe,hrefLen:Ze.length-j.length};if(W.matchedLen>s.matchedLen){a=h.name.value,s=W;continue}else if(W.matchedLen!==s.matchedLen)continue;if(W.queryDiff<s.queryDiff)a=h.name.value,s=W;else if(W.queryDiff!==s.queryDiff)continue;W.hrefLen>s.hrefLen&&(a=h.name.value,s=W)}if(a===null&&u.some(h=>h.routeData===void 0&&h.name.value===l.value)===!0){re=!1;return}O({name:a,setCurrent:!0})}function He(a){if(D(),S.value!==!0&&r.value!==null&&a.target&&typeof a.target.closest=="function"){const s=a.target.closest(".q-tab");s&&r.value.contains(s)===!0&&(S.value=!0,R.value===!0&&H(s))}}function Xe(){_(()=>{S.value=!1},30)}function J(){ke.avoidRouteWatcher===!1?w(ze):I()}function Se(){if(L===void 0){const a=ae(()=>f.$route.fullPath,J);L=()=>{a(),L=void 0}}}function Ye(a){u.push(a),C.value++,se(),a.routeData===void 0||f.$route===void 0?w(()=>{if(R.value===!0){const s=l.value,d=s!=null&&s!==""?u.find(q=>q.name.value===s):null;d&&H(d.rootRef.value)}}):(Se(),a.routeData.hasRouterLink.value===!0&&J())}function Ge(a){u.splice(u.indexOf(a),1),C.value--,se(),L!==void 0&&a.routeData!==void 0&&(u.every(s=>s.routeData===void 0)===!0&&L(),J())}const ke={currentModel:l,tabProps:E,hasFocus:S,hasActiveTab:oe,registerTab:Ye,unregisterTab:Ge,verifyRouteModel:J,updateModel:O,onKbdNavigate:Fe,avoidRouteWatcher:!1};ut(Qe,ke);function Ne(){P!==null&&clearTimeout(P),F(),L!==void 0&&L()}let Ve,re;return je(Ne),ct(()=>{Ve=L!==void 0,Ne()}),dt(()=>{Ve===!0&&(Se(),re=!0,J()),se()}),()=>N("div",{ref:r,class:fe.value,role:"tablist",onFocusin:He,onFocusout:Xe},[N(Pt,{onResize:Ce}),N("div",{ref:v,class:me.value,onScroll:X},de(o.default)),N(ie,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:xe,onTouchstartPassive:xe,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F}),N(ie,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F})])}});function Ut(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((m,f)=>{const n=parseFloat(m);n&&(o[f]=n)}),o}const Et=vt({name:"touch-swipe",beforeMount(e,{value:o,arg:m,modifiers:f}){if(f.mouse!==!0&&Z.has.touch!==!0)return;const n=f.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Ut(m),direction:Ie(f),noop:ft,mouseStart(i){Be(i,t)&&mt(i)&&(le(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(i,!0))},touchStart(i){if(Be(i,t)){const p=i.target;le(t,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),t.start(i)}},start(i,p){Z.is.firefox===!0&&ye(e,!0);const _=Ae(i);t.event={x:_.left,y:_.top,time:Date.now(),mouse:p===!0,dir:!1}},move(i){if(t.event===void 0)return;if(t.event.dir!==!1){ne(i);return}const p=Date.now()-t.event.time;if(p===0)return;const _=Ae(i),D=_.left-t.event.x,w=Math.abs(D),I=_.top-t.event.y,r=Math.abs(I);if(t.event.mouse!==!0){if(w<t.sensitivity[1]&&r<t.sensitivity[1]){t.end(i);return}}else if(window.getSelection().toString()!==""){t.end(i);return}else if(w<t.sensitivity[2]&&r<t.sensitivity[2])return;const v=w/p,l=r/p;t.direction.vertical===!0&&w<r&&w<100&&l>t.sensitivity[0]&&(t.event.dir=I<0?"up":"down"),t.direction.horizontal===!0&&w>r&&r<100&&v>t.sensitivity[0]&&(t.event.dir=D<0?"left":"right"),t.direction.up===!0&&w<r&&I<0&&w<100&&l>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&w<r&&I>0&&w<100&&l>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&w>r&&D<0&&r<100&&v>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&w>r&&D>0&&r<100&&v>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ne(i),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),St(),t.styleCleanup=R=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const M=()=>{document.body.classList.remove("no-pointer-events--children")};R===!0?setTimeout(M,50):M()}),t.handler({evt:i,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:p,distance:{x:w,y:r}})):t.end(i)},end(i){t.event!==void 0&&(we(t,"temp"),Z.is.firefox===!0&&ye(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),i!==void 0&&t.event.dir!==!1&&ne(i),t.event=void 0)}};if(e.__qtouchswipe=t,f.mouse===!0){const i=f.mouseCapture===!0||f.mousecapture===!0?"Capture":"";le(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}Z.has.touch===!0&&le(t,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const m=e.__qtouchswipe;m!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&m.end(),m.handler=o.value),m.direction=Ie(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(we(o,"main"),we(o,"temp"),Z.is.firefox===!0&&ye(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});function Qt(){let e=Object.create(null);return{getCache:(o,m)=>e[o]===void 0?e[o]=typeof m=="function"?m():m:e[o],setCache(o,m){e[o]=m},hasCache(o){return Object.hasOwnProperty.call(e,o)},clearCache(o){o!==void 0?delete e[o]:e=Object.create(null)}}}const jt={name:{required:!0},disable:Boolean},Ue={setup(e,{slots:o}){return()=>N("div",{class:"q-panel scroll",role:"tabpanel"},de(o.default))}},Ot={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ft=["update:modelValue","beforeTransition","transition"];function Wt(){const{props:e,emit:o,proxy:m}=ue(),{getCache:f}=Qt(),{registerTimeout:n}=Te();let t,i;const p=A(null),_=A(null);function D(c){const y=e.vertical===!0?"up":"left";L((m.$q.lang.rtl===!0?-1:1)*(c.direction===y?1:-1))}const w=T(()=>[[Et,D,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),I=T(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),r=T(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),v=T(()=>`--q-transition-duration: ${e.transitionDuration}ms`),l=T(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),R=T(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),M=T(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ae(()=>e.modelValue,(c,y)=>{const $=C(c)===!0?S(c):-1;i!==!0&&g($===-1?0:$<S(y)?-1:1),p.value!==$&&(p.value=$,o("beforeTransition",c,y),n(()=>{o("transition",c,y)},e.transitionDuration))});function U(){L(1)}function Q(){L(-1)}function u(c){o("update:modelValue",c)}function C(c){return c!=null&&c!==""}function S(c){return t.findIndex(y=>y.props.name===c&&y.props.disable!==""&&y.props.disable!==!0)}function P(){return t.filter(c=>c.props.disable!==""&&c.props.disable!==!0)}function g(c){const y=c!==0&&e.animated===!0&&p.value!==-1?"q-transition--"+(c===-1?I.value:r.value):null;_.value!==y&&(_.value=y)}function L(c,y=p.value){let $=y+c;for(;$!==-1&&$<t.length;){const O=t[$];if(O!==void 0&&O.props.disable!==""&&O.props.disable!==!0){g(c),i=!0,o("update:modelValue",O.props.name),setTimeout(()=>{i=!1});return}$+=c}e.infinite===!0&&t.length!==0&&y!==-1&&y!==t.length&&L(c,c===-1?t.length:-1)}function E(){const c=S(e.modelValue);return p.value!==c&&(p.value=c),!0}function oe(){const c=C(e.modelValue)===!0&&E()&&t[p.value];return e.keepAlive===!0?[N(bt,R.value,[N(M.value===!0?f(l.value,()=>({...Ue,name:l.value})):Ue,{key:l.value,style:v.value},()=>c)])]:[N("div",{class:"q-panel scroll",style:v.value,key:l.value,role:"tabpanel"},[c])]}function ve(){if(t.length!==0)return e.animated===!0?[N(ht,{name:_.value},oe)]:oe()}function fe(c){return t=pt(de(c.default,[])).filter(y=>y.props!==null&&y.props.slot===void 0&&C(y.props.name)===!0),t.length}function me(){return t}return Object.assign(m,{next:U,previous:Q,goTo:u}),{panelIndex:p,panelDirectives:w,updatePanelsList:fe,updatePanelIndex:E,getPanelContent:ve,getEnabledPanels:P,getPanels:me,isValidPanelName:C,keepAliveProps:R,needsUniqueKeepAliveWrapper:M,goToPanelByOffset:L,goToPanel:u,nextPanel:U,previousPanel:Q}}const Ee=ce({name:"QTabPanel",props:jt,setup(e,{slots:o}){return()=>N("div",{class:"q-tab-panel",role:"tabpanel"},de(o.default))}}),Kt=ce({name:"QTabPanels",props:{...Ot,...gt},emits:Ft,setup(e,{slots:o}){const m=ue(),f=yt(e,m.proxy.$q),{updatePanelsList:n,getPanelContent:t,panelDirectives:i}=Wt(),p=T(()=>"q-tab-panels q-panel-parent"+(f.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(o),wt("div",{class:p.value},t(),"pan",e.swipeable,()=>i.value))}}),zt={class:"flex justify-center items-center h-screen w-screen"},Ht={class:"q-gutter-y-md",style:{"max-width":"600px"}},Xt={class:"mb-3"},Yt={class:"mb-3"},Gt={className:"w-full flex justify-center"},Jt={key:0,class:"text-red-8 text-md font-bold"},Zt={class:"mb-3"},ea={class:"mb-3"},ta={class:"mb-3"},aa={key:0,class:"text-red-8 text-xs q-pl-sm"},na={class:"mb-3"},oa={key:0,class:"text-red-8 text-xs q-pl-sm"},sa={class:"mb-3"},ra={key:0,class:"text-red-8 text-xs q-pl-sm"},la={class:"mb-3"},ia={key:0,class:"text-red-8 text-xs q-pl-sm"},ua={className:"w-full flex justify-center"},ya={__name:"AuthView",setup(e){const o=At(),m=kt(),f=Tt(),n=A({}),t=Ct({userName:"",firstName:"",lastName:"",email:"",password:"",confirmpassword:""}),i=A(!1),p=A(!0),_=A("signin"),D=async I=>{var v;I.preventDefault();const r={method:"POST",url:"api/user/auth",headers:{"Content-Type":"application/json"},data:{email:t.email,password:t.password}};i.value=!0;try{const l=await Me.request(r);i.value=!1,$e("token",l.data.token),sessionStorage.setItem("auth-user",JSON.stringify(l.data)),m.userData=l.data,f.push("/myprofile/"+l.data.userName),o.notify({message:"welcome back",color:"primary",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),t.email="",t.password="",t.confirmpassword=""}catch(l){((v=l==null?void 0:l.response)==null?void 0:v.status)==401?o.notify({message:l.response.data.message+". Login to try again.",color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}):o.notify({message:l.message,color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),console.error(l),i.value=!1}},w=async I=>{var v;if(I.preventDefault(),n.value={},Nt(String(t.userName))||(n.value.userName="User Name should not contains any whitespace or special charecter. For example "+Vt(String(t.userName))),String(t.userName)||(n.value.userName="User Name required"),t.email||(n.value.email="User Email Required"),t.password||(n.value.password="User Password Required"),t.confirmpassword||(n.value.confirmpassword="User Confirm Password Required"),t.password!==t.confirmpassword&&(n.value.confirmpassword="Password and confirm password not matched."),Object.keys(n.value).length!==0)return;const r={method:"POST",url:"api/user/auth/register",headers:{"Content-Type":"application/json"},data:{userName:t.userName,firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password}};i.value=!0;try{const l=await Me.request(r);i.value=!1,p.value=!0,console.log(l.data),$e("token",l.data.token),sessionStorage.setItem("auth-user",JSON.stringify(l.data)),m.userData=l.data,f.push("/myprofile/"+l.data.userName),o.notify({message:"Registration Successfully!",color:"primary",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]}),t.email="",t.password="",t.confirmpassword=""}catch(l){console.error(l),((v=l==null?void 0:l.response)==null?void 0:v.status)==403?(n.value.headerMessage="User name or email already exist. Try different username.",o.notify({message:"User Already exist with the username or email, Try different username or email",color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})):(n.value.headerMessage="Something went wrong. Try again later",o.notify({message:l.message,color:"red",position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})),i.value=!1}};return(I,r)=>(Y(),G("div",zt,[k("div",null,[k("div",Ht,[V(qt,null,{default:z(()=>[V(Dt,{modelValue:_.value,"onUpdate:modelValue":r[0]||(r[0]=v=>_.value=v),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:z(()=>[V(De,{name:"signin",label:"Login"}),V(De,{name:"register",label:"Register"})]),_:1},8,["modelValue"]),V(xt),V(Kt,{modelValue:_.value,"onUpdate:modelValue":r[9]||(r[9]=v=>_.value=v),animated:""},{default:z(()=>[V(Ee,{name:"signin"},{default:z(()=>[k("form",{class:"w-72",onSubmit:D},[k("div",Xt,[V(K,{label:"UserName or Email address",modelValue:t.email,"onUpdate:modelValue":r[1]||(r[1]=v=>t.email=v),required:"",outlined:"",dense:""},null,8,["modelValue"])]),k("div",Yt,[V(K,{label:"Password",modelValue:t.password,"onUpdate:modelValue":r[2]||(r[2]=v=>t.password=v),required:"",outlined:"",dense:"",placeholder:"•••••••••"},null,8,["modelValue"])]),k("div",Gt,[V(Re,{type:"submit",color:"green"},{default:z(()=>[Le(" Submit ")]),_:1})])],32)]),_:1}),V(Ee,{name:"register"},{default:z(()=>{var v,l,R,M,U,Q,u,C,S,P;return[k("form",{class:"w-72",onSubmit:w},[(v=n.value)!=null&&v.headerMessage?(Y(),G("div",Jt,[k("span",null,ee((l=n.value)==null?void 0:l.headerMessage),1)])):te("",!0),k("div",Zt,[V(K,{label:"First Name",modelValue:t.firstName,"onUpdate:modelValue":r[3]||(r[3]=g=>t.firstName=g),outlined:"",dense:""},null,8,["modelValue"])]),k("div",ea,[V(K,{label:"Last Name",modelValue:t.lastName,"onUpdate:modelValue":r[4]||(r[4]=g=>t.lastName=g),outlined:"",dense:""},null,8,["modelValue"])]),k("div",ta,[V(K,{label:"User Name",modelValue:t.userName,"onUpdate:modelValue":r[5]||(r[5]=g=>t.userName=g),outlined:"",dense:"",placeholder:"username without white space or special charecter",required:""},null,8,["modelValue"]),(R=n.value)!=null&&R.userName?(Y(),G("div",aa,[k("span",null,ee((M=n.value)==null?void 0:M.userName),1)])):te("",!0)]),k("div",na,[V(K,{label:"Email address",modelValue:t.email,"onUpdate:modelValue":r[6]||(r[6]=g=>t.email=g),required:"",outlined:"",dense:""},null,8,["modelValue"]),(U=n.value)!=null&&U.email?(Y(),G("div",oa,[k("span",null,ee((Q=n.value)==null?void 0:Q.email),1)])):te("",!0)]),k("div",sa,[V(K,{label:"Password",modelValue:t.password,"onUpdate:modelValue":r[7]||(r[7]=g=>t.password=g),required:"",outlined:"",dense:"",placeholder:"•••••••••"},null,8,["modelValue"]),(u=n.value)!=null&&u.password?(Y(),G("div",ra,[k("span",null,ee((C=n.value)==null?void 0:C.password),1)])):te("",!0)]),k("div",la,[V(K,{label:"Confirm Password",modelValue:t.confirmpassword,"onUpdate:modelValue":r[8]||(r[8]=g=>t.confirmpassword=g),required:"",outlined:"",dense:"",placeholder:"•••••••••"},null,8,["modelValue"]),(S=n.value)!=null&&S.confirmpassword?(Y(),G("div",ia,[k("span",null,ee((P=n.value)==null?void 0:P.confirmpassword),1)])):te("",!0)]),k("div",ua,[V(Re,{type:"submit",color:"green"},{default:z(()=>[Le(" Submit ")]),_:1})])],32)]}),_:1})]),_:1},8,["modelValue"])]),_:1})])])]))}};export{ya as default};
